.. include:: Includes.txt

.. _start:
======================
Plugin Janolaw Service
======================
.. only:: html
**Installation Instructions for TYPO3**

**Verification of janolaw version**

Please check that the legal texts are generated by using the **janolaw Version 3**.
You can verify the
**janolaw Version 3** as follows:
1. Access the personal area `My janolaw <https://www.janolaw.de/login.html>`__
and tap Übersicht aufrufen (overview)
2. Check whether the text in the overview was generated in 2016 or later
3. Verify that the menu button Stammdaten ändern is available.

**If this is not the case**, please sign in to your personal account and generate
a new set of legal documents by answering the provided questions.

**NOTE**

Please also pay attention to which service you have purchased. You may have
purchased either the German or the multilingual version containing only the
imprint and the data protection policy (suitable for `Webseite <http://www.janolaw.de/internetrecht/firmen-webseiten/datenschutzerklaerung_impressum.html>`__), or a full set of
documents including the GTCs, cancellation policy and the model cancellation form
(suitable for `Internetshop <http://www.janolaw.de/internetrecht/internetshop/abmahnschutz-internetshop.html>`__).

**Version History of the TYPO3 Extension**

4.0 Support of TYPO3 12 and TYPO3 13, after an update the upgrade wizard ‘Migrates janolawserive Plugin’ must be executed, the database structure may be updated and the caches must be deleted!

3.0 Support of TYPO3 11 and TYPO3 12, after updates please refresh the caches!

2.0 Support of TYPO3 10 and TYPO3 11, for updates please update the database structure!

1.2. Support of TYPO3 7, TYPO3 8 and TYPO3 9

1.0 Support of TYPO3 7 and TYPO3 8, Multi-site fuction

0.1 Support of TYPO3 77

**1. Installation**

Please install the extension either via the admin tool „Extensions“, or if you use composer then with

composer require janolaw/janolawservice

**Update:** If you are updating the existing extension from version 3.x to version 4.x, please run the Upgrade Wizard after the update (Admin Tools -> Upgrade -> Upgrade Wizard), then update the database structure (under Admin Tools -> Maintenance -> Analyse Database Structure).

**Update:** If you update the existing extension from version 1.x to version 2.x, please also update the database structure following the update of the extension (under Administration Tools -> Maintenance -> Analyse Database structure).

**2. Configuration**

After installing the janolaw extension, the central settings can be configured by using the
administration tools under **Settings -> Extension Configuration.** During this central settings the user
ID and shop ID should be indicated, and the cache runtime can be adjusted.

Enter your user ID (customer number) and shop ID you have received from janolaw in the input
mask. You can also find the corresponding ID numbers in your personal area under `My janolaw <https://www.janolaw.de/login.html>`__, or
in the e-mail you received following the creation of the documents. Tap **save button** to confirm your
entries.

|image1|

In case you do not have access to the central configuration you will be asked to indicate the user ID
and the shop ID when you create the contents.

**3. Websites**

Tap **page** and add the legal texts from janolaw to the existing pages, or create new pages if necessary.

|image2|

In order to integrate the texts automatically into the content of the website, please go to the specified page and select „\ *Plug-Ins*\ “ under the content.

|image3e|

Select „\ *Plug-In *\ “under the tab „\ *General*\ “ on the content page and tap „\ *janolaw plug-in*\ “. Here you can assign the specified document from janolaw to the respective website or, if available, also the respective language version of the document.

When using janolaw version 3 (see page 1 Verification of janolaw version) it is possible to display the PDF version of the respective document as a download link below or above the legal texts, or only the link in the frontend of the website by selecting “PDF Link”.

Please confirm the entry with „\ *Save Button*\ “!


|image5e|

**4. Configuration**

You can also integrate the texts into your template by using TypoScript.
TypoScript example

TypoScript example

    | lib.pdflink = USER
    | lib.pdflink {
    | userFunc = TYPO3\\CMS\\Extbase\\Core\\Bootstrap->run
    | extensionName = Janolawservice
    | pluginName = Showjanolawservice
    | vendorName = Janolaw
    | settings.janolawservice.language=de
    | settings.janolawservice.type=terms
    | settings.janolawservice.pdflink=only\_pdf\_link
    | settings.janolawservice.userid=123
    | settings.janolawservice.shopid=123
    | }

Possible default for settings.janolowservice:

-  language: en\|gb\|fr

-  type:
   terms\|legaldetails\|revocation\|datasecurity\|model-withdrawal-form

-  pdflink: no\_pdf\|pdf\_top\|pdf\_bottom\|only\_pdf\_link (no\_pdf ist
   default)

-  userid: enthält die UserID falls dies abweicht von der Zentralen Einstellung

-  shopid: enthält die UserID falls dies abweicht von der Zentralen Einstellung

**5. Multisite**

If you use several websites with different janolaw shop/user ID under one TYPO3 extension, you can configure the respective website via the content elements or via the TypoScript configuration.

**IMPORTANT**

Please note that any change to the janolaw documents must be done at www.janolaw.de.
To do so you have to sign in to `My janolaw <https://www.janolaw.de/login.html>`__  and generate a new set of documents, if required.

**NOTE**

Please check the integration of the legal texts on the website. If the integration is correct, the documents you have created will be synchronized, saved and automatically updated via the interface, when changes are made on the respective website.

**Are you operating an online shop, then please consider the followings!**

**Making the order confirmation e-mail legally compliant**
The following documents should be sent to the customer by order confirmation e-mail at the latest with the delivery of the goods.
-  General Terms and Conditions
-  Revocation (Return) Policy
-  Model withdrawal form
-  Data Protection Policy (Privacy Policy)

It is strongly recommended to send the data protection policy in the order confirmation e-mail, in order to avoid a written warning notice based on Art. 12 of the General Data Protection Regulation (GDPR), which corresponds to the shop data protection policy. `https://dsgvo-gesetz.de/art-12-dsgvo/ <https://dsgvo-gesetz.de/art-12-dsgvo/>`__

The regulation explicitly refers to the transfer to the data subject and not to the general public.

|image6|

**IMPORTANT**

Please make sure by making a test purchase that you have correctly integrated the documents in the order confirmation e-mail, and that the documents listed above have been automatically integrated via interface.
- If this does not work, then you have to manually add the missing documents to the order confirmation e-mail and the update of the documents must also be done manually, if any change occurs.
- You can send the documents as e-mail attachments by converting each legal text into a PDF file.
- **Alternatively**, you may also copy the legal text into the order confirmation
e-mail below the purchase confirmation or signature. **When using this method, please note** that any modification you have made to the legal texts after being integrated via the interface will be overwritten during the next synchronization.

After log-in you will find your legal texts in word format in your personal account `My janolaw <https://www.janolaw.de/login.html>`__ under

**NOTE**
Simply referring to the legal documents given as a link in the order confirmation e-mail is not complying with the law!


**Textual Changes**

Please note that any change to the janolaw documents must be done at www.janolaw.de. To do so you have to sign in to `My janolaw <https://www.janolaw.de/login.html>`__ and generate a new set of documents, if required.

**Model withdrawal form**

Model withdrawal form should be sent by e-mail at the latest when the goods are delivered. The menu point “model withdrawal form” should be placed as a further menu item or as a link in your internet shop in addition to the links for terms and conditions, imprint, data privacy policy, cancellation instructions, and the active link to the online dispute resolution platform (ODR platform).


**Templet for Online Dispute Resolution (ODR) Platform**

According to the European ODR Regulation (Regulation on the extrajudicial online
settlement of consumer disputes), since 9 January 2016, entrepreneurs who sell
to consumers have to place an **active link to the ODR** platform
(`https://ec.europa.eu/consumers/odr/ <https://ec.europa.eu/consumers/odr/>`__  )
on their web shops and provide the **e-mail address**.

**IMPORTANT::**

The link to the platform must be placed visible and easily accessible on the website. It should not be placed neither in the imprint nor in the GTC because it can be deemed as being hidden.
To be compliant with the regulation the link should have its own menu point in the footer such as GTC or other customer information (e.g. shipping costs, delivery times etc.).

Our text proposal:

The EU Commission provides a platform for out-of-court dispute resolution. This gives consumers the opportunity to initially settle disputes in connection with their online order out of court. The dispute resolution platform can be found here: `https://ec.europa.eu/consumers/odr/ <https://ec.europa.eu/consumers/odr/>`__
Our e-mail address for customer service is: ......@......

**Verifying Integration Error**

Please consider the following possible sources of error:

-  The type of the service purchased:
Please check whether the purchased service contains only the imprint and the data protection policy (suitable for website), or all documents i.e. also GTCs, cancellation policy and model withdrawal form (suitable for online shop).
-  Specification of ID numbers:
Are user-ID (customer number) or shop ID as well as Rechtstexte-ID entered correctly (without spaces) or not mixed up?
-  PHP must be able to have access to other URLs in order to download files there.
-  In the php.ini of the server allow_url_fopen must be activated.

.. |image1| image:: /Images/image2.png
.. |image2| image:: /Images/image3.png
.. |image3e| image:: /Images/image3e.png
.. |image4| image:: /Images/image5.png
.. |image5e| image:: /Images/image5e.png
.. |image6| image:: /Images/image7.png
